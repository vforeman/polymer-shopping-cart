<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower_components/paper-toast/paper-toast.html">

<polymer-element name="scrolling-header-tabs">

  <template>
    <style>
      :host {
        position: absolute;
        width: 100%;
        height: 100%;
      }
      #core_header_panel {
        width: 100%;
        height: 100%;
        position: absolute;
        overflow: auto;
        top: 0px;
        left: 0px;
      }
      #core_toolbar {
        color: rgb(255, 255, 255);
        position: relative;
        background-color: rgb(79, 125, 201);
      }
      #section {
        height: 1000px;
        background: linear-gradient(rgb(214, 227, 231), rgb(173, 216, 230));
      }
      #nav_tabs {
        width: 100%;
        color: rgb(255, 255, 255);
        box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 2px;
        position: relative;
        margin: 0px;
        -webkit-user-select: none;
        text-transform: uppercase;
        background-color: rgb(0, 188, 212);
      }
      core_icon_button {
        position: relative;
        height: 100%;
      }
      #div {
        position: relative;
        height: 100%;
      }
    </style>
    <core-header-panel mode="waterfall-tall" id="core_header_panel">
      <core-toolbar id="core_toolbar" class="animate tall">
        <div id="div" flex self-start>{{store_name}}
        <!-- INSERT A MEDICAL ICON ALONG WITH THE NAME OF THE DISPENSARY BEING DISPLAYED  -->
        </div>
        <core-icon-button icon="menu" id="menu_icon_button" flex self-center></core-icon-button>
        <core-icon-button icon="menu" id="cart_icon_button" flex self-end></core-icon-button>
      </core-toolbar>
      <paper-tabs selected="store" selectedindex="2" id="nav_tabs" horizontal center layout>
        <paper-tab onclick=null id="{{view_states[0]}}_tab" name="{{view_states[0]}}" inline flex center-center horizontal layout>{{view_states[0]}}</paper-tab>
        <paper-tab onclick=null id="{{view_states[1]}}_tab" name="{{view_states[1]}}" inline flex center-center horizontal layout>{{view_states[1]}}</paper-tab>
        <paper-tab onclick=null id="{{view_states[2]}}_tab" name="{{view_states[2]}}" inline flex center-center horizontal layout active>{{view_states[2]}}</paper-tab>
      </paper-tabs>
      <section id="section">
        <template repeat="{{product in products}}" class="container" layout vertical center>



        </template>
      </section>
    </core-header-panel>
  </template>

  <script>

    Polymer('scrolling-header-tabs',{
      created: function() {  },
      ready: function() {

      },
      attached: function () {
        //best time to access parent element
      },
      domReady: function() {
        //best time that the element's children are attached

      },
      detached: function() {  },
      attributeChanged: function(attrName, oldVal, newVal) {
        //var newVal = this.getAttribute(attrName);
        console.log(attrName, 'old: ' + oldVal, 'new:', newVal);
      },
      publish:{
        store_name: "Store Name",
        view_states:['store','my cart','checkout'],
        products:[
          { leafly:{name:"Blue Dream",description:null,addedOn:"\/Date(1402616430481)\/",imagePath:"http://d3odcnigi1nnzz.cloudfront.net/hybrid/blue-dream/badge?width=100\u0026padding=true",type:"Flower",pricing:[],strainInfo:{slug:"blue-dream",name:"Blue Dream",category:"Hybrid",rating:4.2,ratingCount:3924,symbol:"Bd"}},
            id: 0, name: 'Scruff McGruff' ,imageurl:"img/blue-dream.jpg"},
          { leafly:{name:"Ed Rosenthal Super Bud",description:null,addedOn:"\/Date(1402616500609)\/", imagePath:"http://d3odcnigi1nnzz.cloudfront.net/hybrid/ed-rosenthal-super-bud/badge?width=100\u0026padding=true" ,type:"Flower",pricing:[],strainInfo:{slug:"ed-rosenthal-super-bud",name:"Ed Rosenthal Super Bud",category:"Hybrid",rating:4.3,ratingCount:17,symbol:"Ed"}},
            id: 1, name: 'G.I. Joe' ,imageurl:"img/blue-dream.jpg"},
          { leafly:{name:"Fruity Thai",description:null,addedOn:"\/Date(1402616534836)\/",imagePath:null,type:"Flower",pricing:[],strainInfo:null},
            id: 2, name: 'Miss Frizzle' ,imageurl:"img/blue-dream.jpg"},
          { leafly:{name: "Jack Herer",description:null,addedOn:"\/Date(1402616463680)\/",imagePath:"http://d3odcnigi1nnzz.cloudfront.net/sativa/jack-herer/badge?width=100\u0026padding=true",type:"Flower",pricing:[],strainInfo:{slug:"jack-herer",name:"Jack Herer",category:"Sativa",rating:4.2,ratingCount:1240,symbol:"Jh"}},
            id: 3, name: 'Ash Ketchum' ,imageurl:"img/blue-dream.jpg"}
        ],

      },
    });

  </script>

</polymer-element>
